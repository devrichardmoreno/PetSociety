<div class="pets-section">
  <form [formGroup]="addPetForm" class="edit-form">
    <div class="form-field">
      <label for="pet-nombre">Nombre:</label>
      <input type="text" id="pet-nombre" formControlName="nombre" class="form-input" maxlength="50">
      @if (addPetForm.get('nombre')?.errors && (addPetForm.get('nombre')?.touched || addPetForm.get('nombre')?.dirty)) {
        <small class="error-message">
          @if (addPetForm.get('nombre')?.hasError('required')) {
            El nombre es obligatorio.
          } @else if (addPetForm.get('nombre')?.hasError('invalidName')) {
            El nombre solo puede contener letras, espacios, ñ y tildes.
          } @else {
            El nombre debe tener entre 2 y 50 caracteres.
          }
        </small>
      }
    </div>

    <div class="form-field">
      <label for="pet-edad">Edad:</label>
      <input type="number" id="pet-edad" formControlName="edad" class="form-input" min="1" max="30">
      @if (addPetForm.get('edad')?.invalid && addPetForm.get('edad')?.touched) {
        <small class="error-message">La edad debe estar entre 1 y 30 años</small>
      }
    </div>

    <div class="form-field">
      <label for="pet-tipo-animal">Tipo de Animal:</label>
      <select id="pet-tipo-animal" formControlName="tipoAnimal" class="form-input">
        <option value="">Seleccione un tipo</option>
        <option value="DOG">Perro</option>
        <option value="CAT">Gato</option>
        <option value="BIRD">Ave</option>
        <option value="RABBIT">Conejo</option>
        <option value="HAMSTER">Hámster</option>
        <option value="FISH">Pez</option>
        <option value="REPTILE">Reptil</option>
        <option value="CAPYBARA">Capibara</option>
        <option value="TURTLE">Tortuga</option>
        <option value="OTHER">Otro</option>
      </select>
      @if (addPetForm.get('tipoAnimal')?.invalid && addPetForm.get('tipoAnimal')?.touched) {
        <small class="error-message">Debe seleccionar un tipo de animal</small>
      }
    </div>

    @if (addPetForm.get('tipoAnimal')?.value === 'OTHER') {
      <div class="form-field">
        <label for="pet-tipo-animal-otro">Especifique el tipo de animal:</label>
        <input type="text" id="pet-tipo-animal-otro" formControlName="tipoAnimalOtro" class="form-input" maxlength="50">
        @if (addPetForm.get('tipoAnimalOtro')?.invalid && addPetForm.get('tipoAnimalOtro')?.touched) {
          <small class="error-message">Debe especificar el tipo de animal</small>
        }
      </div>
    }

    <div class="form-actions">
      <button type="button" class="btn btn-cancel" (click)="cancel.emit()">Cancelar</button>
      <button type="button" class="btn btn-success" (click)="save.emit()">Aceptar</button>
    </div>
  </form>
</div>

