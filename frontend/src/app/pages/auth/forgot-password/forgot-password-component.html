<section id="forgot-password-container-all">
    <div id="logo-background">
        <a routerLink="/login" class="back-home-link">
            <span class="back-icon">←</span> Volver al login
        </a>
        <img src="/assets/images/logo.svg" alt="">
    </div>

    <form [formGroup]="forgotPasswordForm" (ngSubmit)="onSubmit()">
        <h1>Olvidé mi contraseña</h1>
        <p class="description">Ingresá tu email y te generaremos un token de recuperación.</p>

        <div class="input-wrapper">
            <label for="email" class="input-label">Email</label>
            <input 
                id="email" 
                type="email" 
                class="custom-input" 
                placeholder="tu@email.com" 
                formControlName="email"
                [class.error]="forgotPasswordForm.get('email')?.invalid && forgotPasswordForm.get('email')?.touched">
        </div>

        @if (forgotPasswordForm.get('email')?.errors && forgotPasswordForm.get('email')?.touched) {
            <div class="error-message">
                @if (forgotPasswordForm.get('email')?.hasError('required')) {
                    <p class="error-msg">El email es obligatorio.</p>
                } @else if (forgotPasswordForm.get('email')?.hasError('email')) {
                    <p class="error-msg">Debe ingresar un email válido.</p>
                }
            </div>
        }

        <button 
            class="submit-btn" 
            type="submit" 
            [disabled]="forgotPasswordForm.invalid || isLoading">
            @if (isLoading) {
                Generando token...
            } @else {
                Generar token de recuperación
            }
        </button>

        <p class="back-link">
            ¿Recordaste tu contraseña? <a routerLink="/login">Volver al login</a>
        </p>
    </form>
</section>
