<div class="diagnose-detail-container">
  <div class="modal-header-wrapper">
    <h2 class="modal-title">Detalles del Diagnóstico</h2>
    <button class="close-button" (click)="close()" aria-label="Cerrar">×</button>
  </div>

  <div class="detail-section">
    <div class="detail-row">
      <span class="detail-label">Mascota:</span>
      <span class="detail-value">
        {{ getPetEmoji(data.diagnose.petType) }} 
        {{ data.diagnose.petName }}
        @if (getPetTypeLabel(data.diagnose.petType, data.diagnose.otherType)) {
          <span class="pet-type">({{ getPetTypeLabel(data.diagnose.petType, data.diagnose.otherType) }})</span>
        }
      </span>
    </div>

    @if (data.diagnose.clientName) {
      <div class="detail-row">
        <span class="detail-label">Cliente:</span>
        <span class="detail-value">{{ data.diagnose.clientName }}</span>
      </div>
    }

    <div class="detail-row">
      <span class="detail-label">Veterinario:</span>
      <span class="detail-value">{{ data.diagnose.doctorName }}</span>
    </div>

    @if (data.diagnose.appointmentStartDate && data.diagnose.appointmentEndDate) {
      <div class="detail-row">
        <span class="detail-label">Fecha de la cita:</span>
        <span class="detail-value">
          {{ data.diagnose.appointmentStartDate | date:'dd/MM/yyyy HH:mm' }} - 
          {{ data.diagnose.appointmentEndDate | date:'HH:mm' }}
        </span>
      </div>
    }

    <div class="detail-row">
      <span class="detail-label">Motivo de la cita:</span>
      <span class="detail-value">{{ getReasonLabel(data.diagnose.appointmentReason || data.diagnose.reason) }}</span>
    </div>

    <div class="detail-row">
      <span class="detail-label">Fecha del diagnóstico:</span>
      <span class="detail-value">{{ data.diagnose.date | date:'dd/MM/yyyy HH:mm' }}</span>
    </div>
  </div>

  <div class="detail-section">
    <h3 class="section-title">Diagnóstico</h3>
    <div class="detail-content">{{ data.diagnose.diagnose }}</div>
  </div>

  <div class="detail-section">
    <h3 class="section-title">Tratamiento</h3>
    <div class="detail-content">{{ data.diagnose.treatment }}</div>
  </div>

  <div class="modal-actions">
    <button mat-flat-button color="primary" (click)="close()">Cerrar</button>
  </div>
</div>

